<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: resources/js/logManager.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: resources/js/logManager.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
*	@file logManager.js
*	@desc This file contains the logs module, which has code for logging file process information.
*	@author Nick Julien
*/

/**
* @module Logs
* @desc Back-end code for handling logging.
* @author Nick Julien
*/

const fs = require("fs");

/**
* Helper function for getting the current date and time
* @return {string} The current date and time in the format log viewer expects.
*/
function getFormattedDate(){
	return new Date().toLocaleString('en-US',{hour12:false,day:'2-digit',month:'2-digit',hour:'2-digit',minute:'2-digit',second:'2-digit'}).replace(',','');
}

/**
* This class provides methods for writing to the daily log file in its expected format.
*	@property {string} filename - Original name of the file that this logger handles
* @param {string} filename - Defines the filename property
*	@author Nick Julien
*/
class Logger{
	constructor(filename){
		this.filename = filename;
		this.logStream = fs.createWriteStream("./resources/logs/log.txt", {flags:'a'});
	}
	/**
	* Closes the filestream. Call this function when no more writing is to be done on this logger.
	*/
	close(){
		this.logStream.end();
	}
	/**
	* Write an informational message to the log file
	* @param {string} message - Information to be written to the log
	*/
	info(message){
		this.logStream.write(getFormattedDate()+" INFO "+this.filename+" "+message+'\n');
	}
	/**
	* Write a success notification to the log file
	* @param {string} message - Description of the successful operation
	*/
	success(message){
		this.logStream.write(getFormattedDate()+" SUCCESS "+this.filename+" "+message+'\n');
	}
	/**
	* Log an occurence that caused execution to stop
	* @param {string} message - Summary of the execution that stopped
	*/
	danger(message){
		this.logStream.write(getFormattedDate()+" DANGER "+this.filename+" "+message+'\n');
	}
	/**
	* Log an unexpected occurence that has not yet caused processing to stop
	* @param {string} message - Summary of the process that has experienced something unexpected
	*/
	warning(message){
		this.logStream.write(getFormattedDate()+" WARNING "+this.filename+" "+message+'\n');
	}
	/**
	* Log any error provided by third party code
	* @deprecated Log viewer does not support intended use
	* @param {string} message - Full third party error data
	*/
	error(message){
		this.logStream.write(getFormattedDate()+" ERROR "+this.filename+" "+message+'\n');
	}
}

exports.Logger = Logger;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Logs.html">Logs</a></li><li><a href="module-Upload.html">Upload</a></li></ul><h3>Namespaces</h3><ul><li><a href="client.html">client</a></li><li><a href="main.html">main</a></li><li><a href="query.html">query</a></li></ul><h3>Classes</h3><ul><li><a href="module-Logs-Logger.html">Logger</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Wed Jul 31 2019 13:51:22 GMT-0500 (Central Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
